# Auth-service

## config/passport.js

Где описана локальная стратегия авторизации: от пользователя поступает логин/пароль, подлинность которых проверяется в универском ldap. Если всё ок возвращаются данные в виде:

```json
{
  "username": "ivanov.i.i",
  "fio": "Иванов Иван Иванович",
  "role": "Students",
  "caf": "Системный анализ и управления",
  "oneCcode": "100088236"
}
```

Примечание: данные написаны для примера.

Если ошибка, то возвращается следующий json:

```json
{
  "msg": "error_message"
}
```

Если авторизация прошла успешна, то клиенту также возвращается его токен, который на клиенте должен быть записан в authorization header в таком виде:

`Bearer yourftokenmustbehere`

Дальше каждый запрос должен идти через этот сервис, где будет проверяться подлинность токена.

Надо ещё с ролями разобраться.
